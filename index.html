<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>WebThingIotJs : Live demo !!!</title>
<script><!--


function update(id, url, secs)
{
  setTimeout(function() {
    document.getElementById(id).src = url;
    }, secs * 1000);
}

function callback(frame)
{
  var base_url = String(window.location).substring(0,
    String(window.location).lastIndexOf("/")
    ) + "/";
  var blank_url = "about:blank";
  var content_url = "https://sosg.mozilla-iot.org/things";
  var logo_url = base_url + 'logo.html';
  var video_url = base_url + 'video.html';
  var links_url = base_url + 'links.html';
  var webapp_url = base_url + 'webapp.html';

  if (false) {
    alert("info: " + frame.id + "=" + frame.src);
  }
  if (frame.id === "content") {
    if (frame.src === blank_url) {
      update('content', logo_url, 0);
    } else if (frame.src === logo_url) {
      update('content', links_url, 1);
    } else if (frame.src === links_url) {
      update('video', logo_url, 1);
    } else if (frame.src === content_url) {
      update('video', video_url, 10);
    }
  } else if (frame.id === "video") {
    if (frame.src === logo_url) {
      update('content', content_url, 0);
    } else if (frame.src === video_url) {
      update('links', logo_url, 0);
    }
  } else if (frame.id === "links") {
    if (frame.src === logo_url) {
      // update('links', links_url, 10);
    } else if (frame.src === links_url) {
      // will be updated by itself
    }
  }
}
//-->
</script>
  </head>

  <frameset cols="*,640"
            frameborder="0"
            framespacing="0"
            bordercolor="black"
            border="0"
            >

    <frame id="content" name="content"
           src="about:blank"
           border="0"
           frameborder="0"
           margin="0"
           marginheight="0"
           marginwidth="0"
           scrolling="no"
           onload="callback(this);"
           />

    <frameset rows="480,*"
              border="0"
              bordercolor="black"
              frameborder="0"
              framespacing="0"
      >
      <frame id="video"
             border="0"
             frameborder="0"
             margin="0"
             marginheight="0"
             marginwidth="0"
             scrolling="no"
             src="about:blank"
             width="640"
             onload="callback(this);"
             />

      <frame id="links" name="links" src="about:blank" 
             frameborder="0"
             margin="0"
             marginheight="0"
             marginwidth="0"
             scrolling="yes"
             onload="callback(this);"
             />
    </frameset>
  </frameset>
</html>
